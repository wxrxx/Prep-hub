<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô - PREP HUB">
    <title>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≠‡∏£‡πå‡∏™ - PREP HUB</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&family=Prompt:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="../css/design-system.css">
    <link rel="stylesheet" href="../css/home.css">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-content">
                <div class="navbar-brand">
                    <a href="../index.html" class="logo">
                        <span class="logo-icon">üìö</span>
                        <span class="logo-text">PREP HUB</span>
                    </a>
                </div>

                <div class="navbar-menu">
                    <a href="../index.html" class="nav-link">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
                    <a href="courses/m6.html" class="nav-link">‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a>
                    <a href="about.html" class="nav-link">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
                    <a href="contact.html" class="nav-link">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
                </div>

                <div class="navbar-actions" id="navbarActions">
                    <a href="auth/login.html" class="btn btn-ghost btn-sm">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
                    <a href="auth/register.html" class="btn btn-primary btn-sm">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</a>
                </div>

                <!-- Mobile Menu Button -->
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <div class="logo">
                <span class="logo-icon">üìö</span>
                <span class="logo-text">PREP HUB</span>
            </div>
            <button class="mobile-menu-close" id="mobileMenuClose">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <nav class="mobile-menu-nav">
            <a href="../index.html" class="mobile-nav-link">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
            </a>
            <a href="courses/m6.html" class="mobile-nav-link">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"></path>
                </svg>
                ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
            </a>
            <a href="about.html" class="mobile-nav-link">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤
            </a>
        </nav>

        <div class="mobile-menu-actions" id="mobileMenuActions">
            <a href="auth/login.html" class="btn btn-secondary">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
            <a href="auth/register.html" class="btn btn-primary">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</a>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero" style="padding: 80px 0 40px;">
        <div class="hero-background"></div>
        <div class="container">
            <div class="hero-content" style="text-align: center;">
                <div class="hero-badge animate-fadeIn">
                    <span class="badge badge-primary">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≠‡∏£‡πå‡∏™</span>
                </div>
                <h1 class="hero-title animate-fadeIn" style="font-size: 2.5rem;">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1>
                <p class="hero-subtitle animate-fadeIn">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì ‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡∏ô‡∏≥</p>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section style="padding: 0 0 60px;">
        <div class="container" style="max-width: 700px;">
            <div
                style="display: flex; gap: 12px; background: white; padding: 8px; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
                <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏£‡πå‡∏™, ‡∏ß‡∏¥‡∏ä‡∏≤, ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô..."
                    style="flex: 1; padding: 16px 20px; border: none; font-size: 1rem; outline: none; font-family: inherit; border-radius: 12px;">
                <button id="searchBtn" class="btn btn-primary" style="padding: 16px 32px;">
                    üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
                </button>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section style="padding: 0 0 80px;">
        <div class="container">
            <div id="searchResults"
                style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 24px;">
                <!-- Results will be injected here -->
                <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #6b7280;">
                    <div style="font-size: 3rem; margin-bottom: 16px;">üîç</div>
                    <p>‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer style="background: #111827; color: white; padding: 40px 0;">
        <div class="container" style="text-align: center;">
            <div class="logo" style="justify-content: center; margin-bottom: 16px;">
                <span class="logo-icon">üìö</span>
                <span class="logo-text" style="color: white;">PREP HUB</span>
            </div>
            <p style="color: #9ca3af;">¬© 2024 PREP HUB - ‡∏£‡∏ß‡∏°‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏ï‡∏¥‡∏ß‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ‡πà ‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../js/api.js"></script>
    <script src="../js/app.js"></script>
    <script>
        // Check URL params for query
        const urlParams = new URLSearchParams(window.location.search);
        const query = urlParams.get('q');
        if (query) {
            document.getElementById('searchInput').value = query;
            performSearch(query);
        }

        // Search button click
        document.getElementById('searchBtn').addEventListener('click', () => {
            const val = document.getElementById('searchInput').value.trim();
            if (val) performSearch(val);
        });

        // Enter key
        document.getElementById('searchInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const val = document.getElementById('searchInput').value.trim();
                if (val) performSearch(val);
            }
        });

        async function performSearch(term) {
            const container = document.getElementById('searchResults');
            container.innerHTML = `
                <div style="grid-column: 1/-1; text-align: center; padding: 40px;">
                    <div style="font-size: 2rem;">üîÑ</div>
                    <p style="color: #6b7280;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...</p>
                </div>
            `;

            try {
                const response = await courses.search(term);
                const results = response.courses || response || [];

                if (results.length === 0) {
                    container.innerHTML = `
                        <div style="grid-column: 1/-1; text-align: center; padding: 60px;">
                            <div style="font-size: 3rem; margin-bottom: 16px;">üì≠</div>
                            <p style="color: #6b7280; font-size: 1.125rem;">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ "${term}"</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = results.map(course => `
                    <div class="card-course" style="background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05); transition: transform 0.2s, box-shadow 0.2s;">
                        <div style="height: 160px; background: linear-gradient(135deg, #0284c7, #0ea5e9); display: flex; align-items: center; justify-content: center;">
                            <span style="font-size: 3rem;">üìö</span>
                        </div>
                        <div style="padding: 20px;">
                            <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                                <span class="badge badge-primary">${course.category || '‡∏°.6'}</span>
                                <span class="badge badge-gray">${course.subject || '‡∏ß‡∏¥‡∏ä‡∏≤'}</span>
                            </div>
                            <h3 style="font-size: 1.125rem; font-weight: 600; color: #111827; margin-bottom: 8px;">${course.title}</h3>
                            <div style="color: #6b7280; font-size: 0.875rem; margin-bottom: 12px;">
                                <span>üìç ${course.brand || '‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô'}</span> ¬∑ 
                                <span>üë§ ${course.teacher || '‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå'}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="font-size: 1.25rem; font-weight: 700; color: #0284c7;">‡∏ø${(course.price || 0).toLocaleString()}</div>
                                <button class="btn btn-primary btn-sm" onclick="alert('‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏≠‡∏£‡πå‡∏™ ID: ${course.id}')">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</button>
                            </div>
                        </div>
                    </div>
                `).join('');

            } catch (e) {
                console.error(e);
                container.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 60px;">
                        <div style="font-size: 3rem; margin-bottom: 16px;">‚ùå</div>
                        <p style="color: #ef4444;">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</p>
                        <p style="color: #6b7280; font-size: 0.875rem;">${e.message}</p>
                    </div>
                `;
            }
        }
    </script>
</body>

</html>